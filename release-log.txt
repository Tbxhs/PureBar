ğŸš€ PureBar Release Script
==========================

ğŸ“¦ Auto-detected Sparkle tools at: /opt/homebrew/Caskroom/sparkle/2.8.0/bin
[0;32mğŸ“¦ Version: 2.0.1[0m

ğŸ›‘ Closing running app...

ğŸ—‚ï¸  Checking for mounted DMG volumes...
No mounted volumes found

ğŸ§¹ Cleaning previous build...
Command line invocation:
    /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild clean -project PureBar.xcodeproj -scheme PureBarMac -configuration Release -derivedDataPath /Users/james/dev/PureBar/build/DerivedData

2025-11-15 19:37:33.073 xcodebuild[69237:1057049] [MT] IDERunDestination: Supported platforms for the buildables in the current scheme is empty.
Resolve Package Graph
2025-11-15 19:37:33.462 xcodebuild[69237:1057049] [MT] IDERunDestination: Supported platforms for the buildables in the current scheme is empty.

Fetching from https://github.com/sparkle-project/Sparkle (cached)

Creating working copy of package â€˜Sparkleâ€™

Checking out 2.8.0 of package â€˜Sparkleâ€™


Resolved source packages:
  PureBarTools: /Users/james/dev/PureBar/PureBarTools
  Modules: /Users/james/dev/PureBar/PureBarMac/Modules
  Sparkle: https://github.com/sparkle-project/Sparkle @ 2.8.0
  PureBarKit: /Users/james/dev/PureBar/PureBarKit

--- xcodebuild: WARNING: Using the first of multiple matching destinations:
{ platform:macOS, arch:arm64, id:00008132-000168AC1A2B801C, name:My Mac }
{ platform:macOS, arch:x86_64, id:00008132-000168AC1A2B801C, name:My Mac }
{ platform:macOS, name:Any Mac }
2025-11-15 19:37:35.847 xcodebuild[69237:1057049] [MT] IDERunDestination: Supported platforms for the buildables in the current scheme is empty.
CreateBuildRequest

SendProjectDescription

CreateBuildOperation

** CLEAN SUCCEEDED **

[0;32mâœ“ Clean complete[0m

ğŸ”¨ Building Release version...
/Users/james/dev/PureBar/PureBarMac/Sources/Updater/AppUpdater.swift:16:22: warning: static property 'sparkleController' is not concurrency-safe because it is nonisolated global shared mutable state; this is an error in the Swift 6 language mode
/Users/james/dev/PureBar/PureBarMac/Sources/Updater/AppUpdater.swift:29:11: warning: capture of 'controller' with non-Sendable type 'SPUStandardUpdaterController' in a '@Sendable' closure; this is an error in the Swift 6 language mode
/Users/james/dev/PureBar/PureBarMac/Sources/Updater/AppUpdater.swift:11:1: warning: add '@preconcurrency' to suppress 'Sendable'-related warnings from module 'Sparkle'
2025-11-15 19:37:51.565 appintentsmetadataprocessor[69614:1059061] warning: Metadata extraction skipped. No AppIntents.framework dependency found.
** BUILD SUCCEEDED **
[0;32mâœ“ Build complete[0m

ğŸ“€ Creating DMG package with create-dmg...
ğŸ” Performing ad-hoc code signing for PureBar.app (to satisfy Sparkle runtime checks)...

Creating disk image...
created: /Users/james/dev/PureBar/dist/rw.69626.PureBar-2.0.1.dmg
Mounting disk image...
Device name:     /dev/disk4
Searching for mounted interstitial disk image using /dev/disk4s... 
Mount dir:       /Volumes/dmg.48DaVs
Making link to Applications dir...
/Volumes/dmg.48DaVs
Running AppleScript to make Finder stuff pretty: /usr/bin/osascript "/var/folders/30/38n_9d155tg9ydc76h8q7s8c0000gn/T/createdmg.tmp.XXXXXXXXXX.9rFrsMIKWT" "dmg.48DaVs"
waited 1 seconds for .DS_STORE to be created.
Done running the AppleScript...
Fixing permissions...
Done fixing permissions
Skipping blessing on sandbox
Deleting .fseventsd
Unmounting disk image...
"disk4" ejected.
Compressing disk image...
æ­£åœ¨å‡†å¤‡æ˜ åƒå¼•æ“â€¦
æ­£åœ¨è¯»å–Protective Master Boot Recordï¼ˆMBRï¼š0ï¼‰â€¦
   (CRC32 $32645099ï¼šProtective Master Boot Recordï¼ˆMBRï¼š0ï¼‰)
æ­£åœ¨è¯»å–GPT Headerï¼ˆPrimary GPT Headerï¼š1ï¼‰â€¦
   (CRC32 $84215A92ï¼šGPT Headerï¼ˆPrimary GPT Headerï¼š1ï¼‰)
æ­£åœ¨è¯»å–GPT Partition Dataï¼ˆPrimary GPT Tableï¼š2ï¼‰â€¦
   (CRC32 $FD79CE6Bï¼šGPT Partition Dataï¼ˆPrimary GPT Tableï¼š2ï¼‰)
æ­£åœ¨è¯»å–ï¼ˆApple_Freeï¼š3ï¼‰â€¦
   (CRC32 $00000000ï¼šï¼ˆApple_Freeï¼š3ï¼‰)
æ­£åœ¨è¯»å–disk imageï¼ˆApple_HFSï¼š4ï¼‰â€¦
   (CRC32 $608F8074ï¼šdisk imageï¼ˆApple_HFSï¼š4ï¼‰)
æ­£åœ¨è¯»å–ï¼ˆApple_Freeï¼š5ï¼‰â€¦
   (CRC32 $00000000ï¼šï¼ˆApple_Freeï¼š5ï¼‰)
æ­£åœ¨è¯»å–GPT Partition Dataï¼ˆBackup GPT Tableï¼š6ï¼‰â€¦
   (CRC32 $FD79CE6Bï¼šGPT Partition Dataï¼ˆBackup GPT Tableï¼š6ï¼‰)
æ­£åœ¨è¯»å–GPT Headerï¼ˆBackup GPT Headerï¼š7ï¼‰â€¦
   (CRC32 $AA82FDB4ï¼šGPT Headerï¼ˆBackup GPT Headerï¼š7ï¼‰)
æ­£åœ¨æ·»åŠ èµ„æºâ€¦
å·²è€—æ—¶ï¼š 4.160s
æ–‡ä»¶å¤§å°ï¼š2967469å­—èŠ‚ï¼Œæ ¡éªŒå’Œï¼šCRC32 $2FADAD29
å·²å¤„ç†æ‰‡åŒºï¼š61517ï¼Œå·²å‹ç¼©13236
é€Ÿåº¦ï¼š1.6MB/ç§’
èŠ‚çœï¼š90.6%
created: /Users/james/dev/PureBar/dist/PureBar-2.0.1.dmg
Not setting 'internet-enable' on the dmg, per caller request
Disk image done
[0;32mâœ“ DMG created: 2.8M[0m

ğŸ—œï¸  Creating ZIP package for Sparkle...
[0;32mâœ“ ZIP created: 2.9M[0m

ğŸ“° Generating Sparkle appcast.xml using: /opt/homebrew/Caskroom/sparkle/2.8.0/bin/generate_appcast
Warning: found mismatch code signing identity between dist/updates/PureBar-2.0.0.zip -- file:///Users/james/dev/PureBar/ 10 and dist/updates/PureBar-2.0.1.zip -- file:///Users/james/dev/PureBar/ 11
Wrote 1 new update, updated 1 existing update, and removed 0 old updates in appcast.xml
[0;32mâœ“ Appcast generated at dist/updates/appcast.xml[0m
ğŸŒ Publishing appcast to gh-pages...
å‡†å¤‡å·¥ä½œåŒºï¼ˆæ–°åˆ†æ”¯ 'gh-pages'ï¼‰
åˆ†æ”¯ 'gh-pages' è®¾ç½®ä¸ºè·Ÿè¸ª 'origin/gh-pages'ã€‚
HEAD ç°åœ¨ä½äº 9007587 docs(appcast): 2.0.0
[gh-pages a3f4deb] docs(appcast): 2.0.1
 2 files changed, 11 insertions(+)
 create mode 100644 PureBar-2.0.1.zip
To github.com:Tbxhs/PureBar.git
   9007587..a3f4deb  gh-pages -> gh-pages
[0;32mâœ“ Appcast published to gh-pages[0m
ğŸ·ï¸  Creating Git tag...
To github.com:Tbxhs/PureBar.git
 * [new tag]         v2.0.1 -> v2.0.1
[0;32mâœ“ Tag v2.0.1 pushed[0m

ğŸ“ Creating GitHub Release...
https://github.com/Tbxhs/PureBar/releases/tag/v2.0.1
[0;32mâœ“ Release published[0m

[0;32mâœ¨ Release 2.0.1 complete![0m

ğŸ”— View release: https://github.com/Tbxhs/PureBar/releases/tag/v2.0.1

â„¹ï¸  Sparkle setup next steps (once):
   1) Generate EdDSA keys and add SUPublicEDKey to Info.plist
   2) Sign the ZIP with Sparkle's sign_update, and generate appcast.xml
   3) Host appcast.xml over HTTPS (e.g., GitHub Pages) and set SUFeedURL
   4) Then Sparkle will offer Install/Update in-app
